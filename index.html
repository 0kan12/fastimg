<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JSONBlob Resim YÃ¼kleme</title>
</head>
<body>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    
        h2 {
            color: #333;
        }
    
        form {
            margin-bottom: 20px;
        }
    
        label {
            display: block;
            margin-bottom: 10px;
        }
    
        input {
            margin-bottom: 10px;
        }
    
        button {
            background-color: #4caf50;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    
        #result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fff;
        }
        #copyButton {
            background-color: #3498db;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
    
<h2>Resim YÃ¼kleme</h2>

<!-- Resim yÃ¼kleme formu -->
<form id="imageForm">
    <label for="imageInput">Resim SeÃ§:</label>
    <input type="file" id="imageInput" accept="image/png, image/jpeg">
    <button type="button" id="uploadButton" title="Resmi yÃ¼kle">Resmi YÃ¼kle</button>
</form>

<!-- SonuÃ§ gÃ¶sterimi iÃ§in alan -->
<div id="result"></div>
<button id="copyButton" onclick="copyLink()" title="Linki Kopyala">Linki Kopyala ðŸ”—</button>
<script>
document.getElementById('uploadButton').addEventListener('click', function() {
    var fileInput = document.getElementById('imageInput');
    var file = fileInput.files[0];

    if (file) {
        var reader = new FileReader();
        reader.readAsDataURL(file);

        reader.onload = function() {
            var base64Content = reader.result.split(',')[1];
            uploadToJSONBlob(base64Content);
        };
    } else {
        alert('LÃ¼tfen bir resim seÃ§in.');
    }
});

function uploadToJSONBlob(content) {
    var apiUrl = 'https://jsonblob.com/api/jsonBlob';
    var jsonData = { "content": content };

    fetch(apiUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(jsonData)
    })
    .then(response => {
        if (response.ok) {
            // ID'yi Location baÅŸlÄ±ÄŸÄ±ndan al
            var blobId = response.headers.get('Location').split('/').pop();
            console.log("JSONBlob ID:", blobId);
            return blobId;
        } else {
            throw new Error('Hata: ' + response.statusText);
        }
    })
    .then(blobId => {
        document.getElementById('result').innerHTML = 'Resim baÅŸarÄ±yla yÃ¼klendi. <br> linkiniz: <a href="https://fastimg.dvtfl.xyz/' + blobId + '" target="_blank">' + blobId + '</a>';

    })
    .catch(error => {
        document.getElementById('result').innerHTML = 'Hata oluÅŸtu: ' + error.message;
    });
}
function copyLink() {
            var resultLink = document.createElement('textarea');
            resultLink.value = 'https://fastimg.dvtfl.xyz/' + document.getElementById('result').getElementsByTagName('a')[0].innerText;
            document.body.appendChild(resultLink);
            resultLink.select();
            document.execCommand('copy');
            document.body.removeChild(resultLink);
            alert('Link kopyalandÄ±!');
        }
</script>

</body>
</html>
